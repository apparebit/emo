%%
%% This is file `emo.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% emo.dtx  (with options: `package')
%% 
%% emo•ji for all (LaTeX engines)
%% (C) Copyright 2023 by Robert Grimm
%% Released under LPPL v1.3c or later
%% <https://github.com/apparebit/emo>
%% 
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{emo}
    [2023/05/22 v1.0 emo•ji for all (LaTeX engines)]
\newif\ifEmojiExtra
\newif\ifemo@index
\newif\ifemo@debug
\DeclareOption{extra}{\EmojiExtratrue}
\DeclareOption{index}{\emo@indextrue}
\DeclareOption{debug}{\emo@debugtrue}
\ProcessOptions\relax
\RequirePackage[utf8]{inputenc}
\newif\ifemo@use@unicode
\newif\ifemo@use@font
\newif\ifemo@use@pdf
\RequirePackage{iftex}
\ifdefined\HCode
\ifluatex\else
\PackageError{emo}{%
    Use of TeX4ht for converting LaTeX to HTML requires LuaTeX.\MessageBreak
    You may see ``Missing character'' messages or\MessageBreak
    ``Unicode character ... not set up'' errors.\MessageBreak
    To fix, please pass the -l or --lua option to TeX4ht's make4ht tool}{%
    Run TeX4ht with LuaTeX by passing -l or --lua option to make4ht}
\fi
\emo@use@unicodetrue
\else
\ifluatex
\emo@use@unicodetrue
\emo@use@fonttrue
\else
\emo@use@pdftrue
\fi
\fi
\ifemo@use@font
\RequirePackage{fontspec}
\fi
\RequirePackage{xcolor}
\ifemo@index
\RequirePackage{index}
\fi
\ifemo@use@pdf
\RequirePackage{graphicx}
\fi
\def\EmojiBeginGroup#1{}
\def\EmojiBeginSubgroup#1#2{}
\def\DefineEmoji#1#2{%
    \expandafter\def\csname emo@emoji@#1\endcsname{#2}}
\def\EmojiEndSubgroup#1#2{}
\def\EmojiEndGroup#1{}
\input{emo.def}
\definecolor{emo@error@fg}{rgb}{1,1,1}
\definecolor{emo@error@bg}{rgb}{.6824,.0863,.0863}
\def\emo@error#1{%
    \colorbox{emo@error@bg}{%
        \textcolor{emo@error@fg}{%
            \textsf{Bad} \texttt{\char`\\emo\{#1\}}}}}
\def\emo@ifdef#1#2{%
    \ifcsname emo@emoji@#1\endcsname#2\else%
        \PackageWarning{emo}{Unknown emoji name in `\string\emo{#1}'}%
        \emo@error{#1}%
    \fi}
\NewHook{emo/render/before}
\NewHook{emo/render/emoji}
\ifEmojiExtra
\NewHook{emo/render/chinese}
\NewHook{emo/render/hebrew}
\fi
\NewHook{emo/render/content}
\NewReversedHook{emo/render/after}
\def\emo@makecommand#1#2{
    \newcommand*{#1}[1]{%
        \def\emo@command{#1}%
        \def\emo@key{##1}%
        \emo@ifdef{##1}{%
            \UseHook{emo/render/before}%
            \def\emo@value{%
                \begingroup%
                #2%
                \UseHook{emo/render/content}%
                \endgroup}%
            \UseHook{emo/render/after}%
            \emo@value}}}
\emo@makecommand\emo{\UseHook{emo/render/emoji}}
\ifEmojiExtra
\emo@makecommand\emo@lingchi{\UseHook{emo/render/chinese}}
\emo@makecommand\emo@YHWH{\UseHook{emo/render/hebrew}}
\newcommand*{\lingchi}{\emo@lingchi{lingchi}}
\newcommand*{\YHWH}{\emo@YHWH{YHWH}}
\fi
\ifemo@index
\newindex{emo}{edx}{end}{Emoji Index}
\def\emo@emit@index#1{\index[emo]{#1}}
\AddToHook{emo/render/before}{%
    \expandafter\emo@emit@index\expandafter{\emo@key}}
\fi
\ifemo@use@font
\newfontface\emo@font@emoji[Renderer=Harfbuzz]{NotoColorEmoji.ttf}
\AddToHook{emo/render/emoji}{\emo@font@emoji}
\ifEmojiExtra
\newfontface\emo@font@chinese{emo-lingchi.ttf}
\newfontface\emo@font@hebrew{LinLibertine_R.otf}
\AddToHook{emo/render/chinese}{\emo@font@chinese}
\AddToHook{emo/render/hebrew}{\emo@font@hebrew\textdir TRT}
\fi
\fi
\ifemo@use@unicode
\AddToHook{emo/render/content}{\csname emo@emoji@\emo@key\endcsname}
\fi
\ifemo@use@pdf
\AddToHook{emo/render/content}{%
    \raisebox{-0.2ex}{%
        \includegraphics[height=1em]{emo-graphics/emo-\emo@key}}}
\fi
\ifemo@debug
\AddToHook{emo/render/after}{%
    \let\emo@realvalue\emo@value%
    \def\emo@value{\fbox{\emo@realvalue}}}
\fi
\endinput
%%
%% End of file `emo.sty'.
