%%
%% This is file `emo.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% emo.dtx  (with options: `prelude')
%% emo.table.dtx  (with options: `table')
%% emo.dtx  (with options: `package')
%% 
%% emo: emoji for all (LaTeX engines)
%% (C) Copyright 2023 by Robert Grimm
%% Released under LPPL v1.3c or later
%% <https://github.com/apparebit/emo>
%% 
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{emo}[2023/03/07 v0.1 emoji for all]

%% ====================================
%%  (1) Package Options & Dependencies
%% ====================================
\newif\ifemo@extra\emo@extrafalse
\DeclareOption{extra}{\emo@extratrue}
\newif\ifemo@indexing\emo@indexingfalse
\DeclareOption{index}{\emo@indexingtrue}
\ProcessOptions\relax
\RequirePackage[utf8]{inputenc}
\RequirePackage{xcolor}
\RequirePackage{iftex}
\ifluatex
\RequirePackage{fontspec}
\else
\RequirePackage{graphicx}
\fi
\ifemo@extra
\RequirePackage{xspace}
\fi
\ifemo@indexing
\RequirePackage{index}
\fi

%% =================
%%  (2) Emoji Table
%% =================
\expandafter\def\csname emo@emoji@balance-scale\endcsname{⚖️}
\def\emo@emoji@biohazard{☣️}
\expandafter\def\csname emo@emoji@check-mark\endcsname{✔️}
\expandafter\def\csname emo@emoji@classical-building\endcsname{🏛}
\expandafter\def\csname emo@emoji@desert-island\endcsname{🏝}
\expandafter\def\csname emo@emoji@enraged-face\endcsname{😡}
\def\emo@emoji@eu{🇪🇺}
\def\emo@emoji@eye{👁}
\expandafter\def\csname emo@emoji@floppy-disk\endcsname{💾}
\def\emo@emoji@foggy{🌁}
\expandafter\def\csname emo@emoji@globe-africa-europe\endcsname{🌍}
\def\emo@emoji@handshake{🤝}
\def\emo@emoji@judge{🧑‍⚖️}
\expandafter\def\csname emo@emoji@keycap-one\endcsname{1️⃣}
\def\emo@emoji@label{🏷}
\expandafter\def\csname emo@emoji@loupe-left\endcsname{🔍}
\def\emo@emoji@pager{📟}
\def\emo@emoji@parrot{🦜}
\def\emo@emoji@receipt{🧾}
\def\emo@emoji@robot{🤖}
\def\emo@emoji@stadium{🏟}
\expandafter\def\csname emo@emoji@stop-sign\endcsname{🛑}
\expandafter\def\csname emo@emoji@triangular-ruler\endcsname{📐}
\def\emo@emoji@wastebasket{🗑}

%% ==============================
%%  (3) Internal & Public Macros
%% ==============================
\definecolor{emo@error@fg}{rgb}{1,1,1}
\definecolor{emo@error@bg}{rgb}{.6824,.0863,.0863}
\def\emo@error#1{%
    \colorbox{emo@error@bg}{%
        \textcolor{emo@error@fg}{%
            \textsf{Bad} \texttt{\textbackslash emo\{#1\}}%
        }%
    }%
}
\def\emo@ifdef#1#2{%
    \ifcsname emo@emoji@#1\endcsname#2\else%
        \PackageWarning{emo}{Unknown emoji name in `\string\emo{#1}'}%
        \emo@error{#1}%
    \fi%
}
\ifemo@indexing
\newindex{emo}{edx}{end}{Emoji Index}
\def\emo@index#1{\index[emo]{#1}}
\else
\def\emo@index#1{}
\fi
\ifluatex
\newfontface\emo@font[Renderer=Harfbuzz]{NotoColorEmoji.ttf}
\newcommand\emo[1]{%
    \emo@ifdef{#1}{%
        \emo@index{#1}%
        {\emo@font\csname emo@emoji@#1\endcsname}%
    }%
}
\else
\newcommand\emo[1]{%
    \emo@ifdef{#1}{%
        \emo@index{#1}%
        \raisebox{-0.2ex}{\includegraphics[height=1em]{./emo-graphics/#1}}%
    }%
}
\fi

\ifemo@extra
\ifluatex
\newfontface\emo@chinese{NotoSansSC-Regular.otf}
\newfontface\emo@hebrew{NotoSerifHebrew-Regular.ttf}
\newcommand\lingchi{%
    \emo@index{lingchi}%
    \begingroup\emo@chinese \char"51CC\char"9072\endgroup%
    \xspace}
\newcommand\YHWH{%
    \emo@index{YHWH}%
    \begingroup\textdir TRT\emo@hebrew \char"5D9\char"5D4\char"5D5\char"5D4\endgroup%
    \xspace}
\else
\newcommand\lingchi{%
    \emo@index{lingchi}%
    \raisebox{-0.2ex}{\includegraphics[height=1em]{./emo-graphics/lingchi}}%
    \xspace}
\newcommand\YHWH{%
    \emo@index{YHWH}%
    \raisebox{-0.2ex}{\includegraphics[height=1em]{./emo-graphics/YHWH}}%
    \xspace}
\fi
\fi
\endinput
%%
%% End of file `emo.sty'.
